#include <iostream>
#include "gmdlib/graphics.hpp"
#include <gmdlib/helpers/BinaryStreamReader.hpp>
#include <fstream>
#include <format>

int main(int argc, char *argv[])
{
    std::array<uint8_t, 0x2A0> hex
            {0x00, 0x00, 0xA6, 0x00, 0x00, 0x00, 0x89, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
             0x84, 0x99, 0xFF, 0xFF, 0x84, 0x00, 0x40, 0x20, 0x00, 0x00, 0x00, 0x00, 0x84, 0x04, 0x40, 0x20,
             0x00, 0x00, 0x20, 0x00, 0x84, 0x08, 0x40, 0x20, 0x00, 0x00, 0x40, 0x00, 0x84, 0x0C, 0x40, 0x20,
             0x00, 0x00, 0x60, 0x00, 0x84, 0x10, 0x40, 0x09, 0x00, 0x00, 0x80, 0x00, 0xA4, 0x11, 0x40, 0x20,
             0x40, 0x00, 0x00, 0x00, 0xA4, 0x15, 0x40, 0x20, 0x40, 0x00, 0x20, 0x00, 0xA4, 0x19, 0x40, 0x20,
             0x40, 0x00, 0x40, 0x00, 0xA4, 0x1D, 0x40, 0x20, 0x40, 0x00, 0x60, 0x00, 0xA4, 0x21, 0x08, 0x02,
             0x40, 0x00, 0x80, 0x00, 0xAC, 0x21, 0x18, 0x20, 0x80, 0x00, 0x20, 0x00, 0x2C, 0x23, 0x28, 0x20,
             0x80, 0x00, 0x40, 0x00, 0xAC, 0x25, 0x20, 0x14, 0x80, 0x00, 0x60, 0x00, 0x00, 0x00, 0x00, 0x00,
             0x00, 0x00, 0x00, 0x00, 0x1C, 0x02, 0x00, 0x00, 0xC5, 0x02, 0x86, 0x03, 0x86, 0x02, 0x87, 0x01,
             0x87, 0x01, 0x87, 0x01, 0x87, 0x01, 0x87, 0x01, 0x87, 0x01, 0x87, 0x01, 0x87, 0x01, 0x95, 0x01,
             0x87, 0x01, 0x87, 0x01, 0x87, 0x02, 0x86, 0x02, 0x86, 0x02, 0x86, 0x02, 0x86, 0x02, 0x86, 0x02,
             0x86, 0x02, 0x86, 0x02, 0x86, 0x02, 0x87, 0x01, 0x87, 0x01, 0x87, 0x01, 0x87, 0x01, 0x87, 0x02,
             0x86, 0x02, 0x86, 0x02, 0x86, 0x02, 0x86, 0x02, 0x86, 0x02, 0x86, 0x02, 0x86, 0x02, 0x86, 0x02,
             0x86, 0x02, 0x86, 0x02, 0x86, 0x02, 0x86, 0x02, 0x86, 0x02, 0x86, 0x02, 0x86, 0x02, 0x82, 0x02,
             0x82, 0x02, 0x82, 0x02, 0x82, 0x02, 0x83, 0x05, 0x83, 0x05, 0x84, 0x04, 0x84, 0x04, 0x84, 0x04,
             0x84, 0x04, 0x84, 0x04, 0x84, 0x04, 0x84, 0x04, 0x84, 0x04, 0x84, 0x04, 0x84, 0x04, 0x84, 0x04,
             0x84, 0x04, 0x85, 0x03, 0x86, 0x02, 0x86, 0x02, 0x86, 0x02, 0x86, 0x02, 0x86, 0x02, 0x86, 0x02,
             0x86, 0x02, 0x86, 0x02, 0x86, 0x02, 0x86, 0x02, 0x86, 0x02, 0x86, 0x02, 0x86, 0x02, 0x86, 0x02,
             0x86, 0x02, 0x86, 0x02, 0x86, 0x02, 0x86, 0x02, 0x87, 0x01, 0x87, 0x01, 0x87, 0x01, 0x87, 0x01,
             0x87, 0x01, 0x87, 0x01, 0x87, 0x01, 0x87, 0x01, 0x87, 0x01, 0x87, 0x01, 0x87, 0x01, 0x87, 0x01,
             0x87, 0x03, 0x85, 0x03, 0x85, 0x03, 0x85, 0x04, 0x84, 0x04, 0x84, 0x05, 0x83, 0x19, 0x83, 0x05,
             0x84, 0x04, 0x84, 0x04, 0x84, 0x04, 0x84, 0x04, 0x84, 0x04, 0x84, 0x04, 0x85, 0x03, 0x85, 0x03,
             0x85, 0x03, 0x85, 0x03, 0x85, 0x03, 0x85, 0x03, 0x86, 0x02, 0x86, 0x02, 0x86, 0x02, 0x85, 0x03,
             0x85, 0x03, 0x85, 0x03, 0x85, 0x03, 0x85, 0x03, 0x85, 0x03, 0x85, 0x03, 0x85, 0x03, 0x85, 0x03,
             0x85, 0x03, 0x85, 0x05, 0x86, 0x02, 0x86, 0x02, 0x86, 0x02, 0x86, 0x03, 0x85, 0x03, 0x85, 0x03,
             0x85, 0x03, 0x82, 0x06, 0x82, 0x06, 0x82, 0x06, 0x82, 0x06, 0x82, 0x06, 0x82, 0x06, 0x82, 0x06,
             0x82, 0x06, 0x82, 0x06, 0x82, 0x06, 0x82, 0x06, 0x82, 0x06, 0x82, 0x06, 0x82, 0x06, 0x82, 0x06,
             0x82, 0x02, 0x82, 0x06, 0x82, 0x06, 0x82, 0x06, 0x82, 0x06, 0x82, 0x06, 0x82, 0x06, 0x82, 0x06,
             0x82, 0x06, 0x82, 0x06, 0x82, 0x06, 0x82, 0x15, 0x82, 0x06, 0x82, 0x06, 0x82, 0x06, 0x82, 0x06,
             0x82, 0x06, 0x82, 0x06, 0x82, 0x06, 0x82, 0x06, 0x82, 0x06, 0x82, 0x05, 0x83, 0x05, 0x83, 0x05,
             0x83, 0x05, 0x83, 0x05, 0x83, 0x05, 0x83, 0x05, 0x83, 0x05, 0x83, 0x05, 0x82, 0x30, 0x82, 0x06,
             0x82, 0x5A, 0x82, 0x01, 0x83, 0x02, 0x82, 0x01, 0x83, 0x02, 0x82, 0x01, 0x83, 0x02, 0x82, 0x01,
             0x83, 0x02, 0x82, 0x01, 0x83, 0x02, 0x82, 0x02, 0x82, 0x02, 0x82, 0x02, 0x82, 0x02, 0x82, 0x02,
             0x82, 0x02, 0x82, 0x02, 0x82, 0x02, 0x82, 0x02, 0x82, 0x02, 0x82, 0x02, 0x82, 0x02, 0x82, 0x02,
             0x82, 0x06, 0x82, 0x06, 0x82, 0x06, 0x82, 0x06, 0x82, 0x00, 0x0A, 0x83, 0x05, 0x83, 0x05, 0x85,
             0x03, 0x85, 0x03, 0x85, 0x02, 0x86, 0x02, 0x84, 0x04, 0x83, 0x05, 0x82, 0x0A, 0x82, 0x06, 0x82,
             0x06, 0x82, 0x06, 0x82, 0x06, 0x82, 0x14, 0x84, 0x04, 0x84, 0x04, 0x84, 0x03, 0x85, 0x03, 0x85,
             0x01, 0x87, 0x01, 0x87, 0x02, 0xBF, 0x08, 0x82, 0x05, 0x89, 0x01, 0x82, 0x01, 0x82, 0x01, 0x82,
             0x01, 0x84, 0x01, 0xB7, 0x02, 0x83, 0x02, 0x83, 0x01, 0x84, 0x01, 0x84, 0x01, 0x84, 0x12, 0x82,
             0x03, 0x82, 0x03, 0x82, 0x03, 0x82, 0x03, 0x82, 0x03, 0x82, 0x03, 0x82, 0x03, 0x82, 0x03, 0x82,
             0x17, 0x83, 0x01, 0x83, 0x01, 0x83, 0x01, 0x83, 0x01, 0x83, 0x01, 0x83, 0x01, 0x83, 0x01, 0x83,
             0x01, 0x83, 0x01, 0x83, 0x01, 0x83, 0x01, 0x83, 0x01, 0x83, 0x01, 0x8B, 0x01, 0x83, 0x01, 0x83};

    gmdlib::gfx::gex::PackedGraphicHeaders phdrs(hex);
    std::cout << std::format("bpp: %{}\n", phdrs.get_bpp());

}